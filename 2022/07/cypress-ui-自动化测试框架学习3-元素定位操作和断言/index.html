<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Cypress UI 自动化测试框架学习（3）- 元素定位，操作和断言 - 软件测试同学</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta itemprop="name" content="Cypress UI 自动化测试框架学习（3）- 元素定位，操作和断言">
<meta itemprop="description" content="元素定位 谈到 UI 自动化测试，不管是 web 端还是移动端，页面元素的各种操作在编写测试脚本时都会涉及，如果想写出高通过率和高健壮性的自动化测试用例，必须要确保正确高效的页面元素识别和使用。
cypress 框架除了支持常用的元素定位，还提供了好用的 JQuery css 选择器。
下面会介绍常用的元素定位方法，常用的定位方式，以及框架自带可视化自助元素定位方法
常用元素定位 #id 定位 描述：通过元素的 id 属性来定位
前提：定位的元素 css 样式须存在 id 属性且唯一
//元素前端代码示例 &lt;input type=&quot;text&quot; id=&quot;email&quot; name=&quot;email&quot; placeholder=&quot;&quot; class=&quot;form-control&quot;&gt;
示例代码 cy.get(&#39;#email&#39;) .class 定位 描述：通过元素的 class 属性来定位
前提：定位的元素 css 样式存在 class 属性且唯一
//元素前端代码示例 &lt;a class=&quot;navbar-brand&quot; href=&quot;/&quot;&gt;&lt;img width=&quot;150&quot; height=&quot;28&quot; border=&quot;0&quot; align=&quot;default&quot; alt=&quot;光谷社区&quot; src=&quot;http://cdn.guanggoo.com//static/images/guanggoonew.png&quot;&gt;&lt;/a&gt;
示例代码 cy.get(&#39;.navbar-brand&#39;)
name 定位 描述：通过元素 name 定位
前提：定位的元素 css 样式存在 name 属性且唯一 //元素前端代码示例 &lt;input type=&quot;text&quot; id=&quot;email&quot; name=&quot;email&quot; placeholder=&quot;&quot; class=&quot;form-control&quot;&gt;"><meta itemprop="datePublished" content="2022-07-08T09:49:24+08:00" />
<meta itemprop="dateModified" content="2022-07-08T09:49:24+08:00" />
<meta itemprop="wordCount" content="315">
<meta itemprop="keywords" content="自动化测试,cypress," /><meta property="og:title" content="Cypress UI 自动化测试框架学习（3）- 元素定位，操作和断言" />
<meta property="og:description" content="元素定位 谈到 UI 自动化测试，不管是 web 端还是移动端，页面元素的各种操作在编写测试脚本时都会涉及，如果想写出高通过率和高健壮性的自动化测试用例，必须要确保正确高效的页面元素识别和使用。
cypress 框架除了支持常用的元素定位，还提供了好用的 JQuery css 选择器。
下面会介绍常用的元素定位方法，常用的定位方式，以及框架自带可视化自助元素定位方法
常用元素定位 #id 定位 描述：通过元素的 id 属性来定位
前提：定位的元素 css 样式须存在 id 属性且唯一
//元素前端代码示例 &lt;input type=&quot;text&quot; id=&quot;email&quot; name=&quot;email&quot; placeholder=&quot;&quot; class=&quot;form-control&quot;&gt;
示例代码 cy.get(&#39;#email&#39;) .class 定位 描述：通过元素的 class 属性来定位
前提：定位的元素 css 样式存在 class 属性且唯一
//元素前端代码示例 &lt;a class=&quot;navbar-brand&quot; href=&quot;/&quot;&gt;&lt;img width=&quot;150&quot; height=&quot;28&quot; border=&quot;0&quot; align=&quot;default&quot; alt=&quot;光谷社区&quot; src=&quot;http://cdn.guanggoo.com//static/images/guanggoonew.png&quot;&gt;&lt;/a&gt;
示例代码 cy.get(&#39;.navbar-brand&#39;)
name 定位 描述：通过元素 name 定位
前提：定位的元素 css 样式存在 name 属性且唯一 //元素前端代码示例 &lt;input type=&quot;text&quot; id=&quot;email&quot; name=&quot;email&quot; placeholder=&quot;&quot; class=&quot;form-control&quot;&gt;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://naod.com.cn/2022/07/cypress-ui-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A03-%E5%85%83%E7%B4%A0%E5%AE%9A%E4%BD%8D%E6%93%8D%E4%BD%9C%E5%92%8C%E6%96%AD%E8%A8%80/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-08T09:49:24+08:00" />
<meta property="article:modified_time" content="2022-07-08T09:49:24+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Cypress UI 自动化测试框架学习（3）- 元素定位，操作和断言"/>
<meta name="twitter:description" content="元素定位 谈到 UI 自动化测试，不管是 web 端还是移动端，页面元素的各种操作在编写测试脚本时都会涉及，如果想写出高通过率和高健壮性的自动化测试用例，必须要确保正确高效的页面元素识别和使用。
cypress 框架除了支持常用的元素定位，还提供了好用的 JQuery css 选择器。
下面会介绍常用的元素定位方法，常用的定位方式，以及框架自带可视化自助元素定位方法
常用元素定位 #id 定位 描述：通过元素的 id 属性来定位
前提：定位的元素 css 样式须存在 id 属性且唯一
//元素前端代码示例 &lt;input type=&quot;text&quot; id=&quot;email&quot; name=&quot;email&quot; placeholder=&quot;&quot; class=&quot;form-control&quot;&gt;
示例代码 cy.get(&#39;#email&#39;) .class 定位 描述：通过元素的 class 属性来定位
前提：定位的元素 css 样式存在 class 属性且唯一
//元素前端代码示例 &lt;a class=&quot;navbar-brand&quot; href=&quot;/&quot;&gt;&lt;img width=&quot;150&quot; height=&quot;28&quot; border=&quot;0&quot; align=&quot;default&quot; alt=&quot;光谷社区&quot; src=&quot;http://cdn.guanggoo.com//static/images/guanggoonew.png&quot;&gt;&lt;/a&gt;
示例代码 cy.get(&#39;.navbar-brand&#39;)
name 定位 描述：通过元素 name 定位
前提：定位的元素 css 样式存在 name 属性且唯一 //元素前端代码示例 &lt;input type=&quot;text&quot; id=&quot;email&quot; name=&quot;email&quot; placeholder=&quot;&quot; class=&quot;form-control&quot;&gt;"/>
<link rel="stylesheet" type="text/css" media="screen" href="https://naod.com.cn/css/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://naod.com.cn/css/main.css" />

        <link id="dark-scheme" rel="stylesheet" type="text/css" href="https://naod.com.cn/css/dark.css" />

	<script src="https://naod.com.cn/js/feather.min.js"></script>
	
		<script src="https://naod.com.cn/js/main.js"></script>
</head>

<body>
	<div class="container wrapper">
		<div class="header">
	
	<h1 class="site-title"><a href="https://naod.com.cn/">软件测试同学</a></h1>
	<div class="site-description"><p>专注于软件测试信息分享</p><nav class="nav social">
			<ul class="flat"><li><a href="https://github.com/waitnoww/" title="Github"><i data-feather="github"></i></a></li><li><a href="/index.xml" title="RSS"><i data-feather="rss"></i></a></li></ul>
		</nav>
		
	</div>

	<nav class="nav">
		<ul class="flat">
			
			<li>
				<a href="/">Home</a>
			</li>
			
			<li>
				<a href="/posts">All posts</a>
			</li>
			
			<li>
				<a href="/about">About</a>
			</li>
			
			<li>
				<a href="/tags">Tags</a>
			</li>
			
		</ul>
	</nav>
</div>


		<div class="post">
			<div class="post-header">
				
					<div class="meta">
						<div class="date">
							<span class="day">08</span>
							<span class="rest">Jul 2022</span>
						</div>
					</div>
				
				<div class="matter">
					<h1 class="title">Cypress UI 自动化测试框架学习（3）- 元素定位，操作和断言</h1>
				</div>
			</div>

			
			
					
			<div class="markdown">
				<h2 id="元素定位">元素定位</h2>
<p>谈到 UI 自动化测试，不管是 web 端还是移动端，页面元素的各种操作在编写测试脚本时都会涉及，如果想写出高通过率和高健壮性的自动化测试用例，必须要确保正确高效的页面元素识别和使用。</p>
<p>cypress 框架除了支持常用的元素定位，还提供了好用的 JQuery css 选择器。</p>
<p>下面会介绍常用的元素定位方法，常用的定位方式，以及框架自带可视化自助元素定位方法</p>
<h3 id="常用元素定位">常用元素定位</h3>
<h4 id="id-定位">#id 定位</h4>
<ul>
<li>
<p>描述：通过元素的 id 属性来定位</p>
</li>
<li>
<p>前提：定位的元素 css 样式须存在 id 属性且唯一</p>
</li>
</ul>
<p><code>//元素前端代码示例 &lt;input type=&quot;text&quot; id=&quot;email&quot; name=&quot;email&quot; placeholder=&quot;&quot; class=&quot;form-control&quot;&gt;</code></p>
<ul>
<li>示例代码
<code>cy.get('#email')</code></li>
</ul>
<h4 id="class-定位">.class 定位</h4>
<ul>
<li>
<p>描述：通过元素的 class 属性来定位</p>
</li>
<li>
<p>前提：定位的元素 css 样式存在 class 属性且唯一</p>
</li>
</ul>
<p><code>//元素前端代码示例 &lt;a class=&quot;navbar-brand&quot; href=&quot;/&quot;&gt;&lt;img width=&quot;150&quot; height=&quot;28&quot; border=&quot;0&quot; align=&quot;default&quot; alt=&quot;光谷社区&quot; src=&quot;http://cdn.guanggoo.com//static/images/guanggoonew.png&quot;&gt;&lt;/a&gt;</code></p>
<ul>
<li>示例代码</li>
</ul>
<p><code>cy.get('.navbar-brand')</code></p>
<h4 id="name-定位">name 定位</h4>
<ul>
<li>
<p>描述：通过元素 name 定位</p>
</li>
<li>
<p>前提：定位的元素 css 样式存在 name 属性且唯一
<code>//元素前端代码示例 &lt;input type=&quot;text&quot; id=&quot;email&quot; name=&quot;email&quot; placeholder=&quot;&quot; class=&quot;form-control&quot;&gt;</code></p>
</li>
<li>
<p>示例代码</p>
</li>
</ul>
<p><code>cy.get('input[name=&quot;email&quot;]')</code></p>
<h3 id="常用定位方式">常用定位方式</h3>
<h4 id="get">.get()</h4>
<ul>
<li>描述：使用 get() 定位元素，定位元素用 CSS selectors，跟 jQuery 一样</li>
<li>示例代码</li>
</ul>
<p><code>cy.get('#email')</code></p>
<h4 id="contains">.contains()</h4>
<ul>
<li>
<p>描述：可以使用 cy.contains（）根据元素的内容找到元素</p>
</li>
<li>
<p>示例代码</p>
</li>
</ul>
<p><code>cy.contains(‘value’) cy.get(‘div[name=“div_name”]’).contains(‘value’)</code></p>
<h4 id="within">.within()</h4>
<ul>
<li>
<p>描述：可以在特定的 DOM 元素中找到元素</p>
</li>
<li>
<p>示例代码</p>
</li>
</ul>
<p><code>cy.get('.query-form').within(() =&gt; { cy.get('input:first').should('have.attr', 'placeholder', 'Email') cy.get('input:last').should('have.attr', 'placeholder', 'Password') })</code></p>
<h4 id="cypress">Cypress.$</h4>
<ul>
<li>
<p>描述：Cypress 也提供了 JQuery 选择器，调用 Cypress.$(&lsquo;button&rsquo;）会自动在您的窗口中查询元素。换句话说，Cypress 会自动将文档设置为您当前通过 cy.visit() 导航到的任何内容，这是从开发人员工具调试时同步查询元素的好方法。</p>
</li>
<li>
<p>示例代码</p>
</li>
</ul>
<p><code>Cypress.$(selector) // other proxied jQuery methods Cypress.$.Event Cypress.$.Deferred Cypress.$.ajax Cypress.$.get Cypress.$.getJSON Cypress.$.getScript Cypress.$.post</code></p>
<h3 id="框架自带可视化自助元素定位">框架自带可视化自助元素定位</h3>
<ul>
<li>1.前提：demo 代码已经跑起来 (运行脚本：npm run cypress:open)</li>
</ul>
<p>
  <img src="https://raw.githubusercontent.com/waitnoww/hexoblogimg/master/img/20210601152305.png" alt="">

</p>
<ul>
<li>2.点击运行调试用例，进入定位元素对应的页面</li>
</ul>
<p>
  <img src="https://raw.githubusercontent.com/waitnoww/hexoblogimg/master/img/20210601152419.png" alt="">

</p>
<ul>
<li>
<p>3.在页面上选择瞄准镜标识（open selector playground）</p>
</li>
<li>
<p>4.选择页面上的元素区域，元素的定位信息就会展示在定位信息展示区域，点击复制就可使用</p>
</li>
</ul>
<p>
  <img src="https://raw.githubusercontent.com/waitnoww/hexoblogimg/master/img/20210601152904.png" alt="">

</p>
<h2 id="元素常用操作">元素常用操作</h2>
<h3 id="click">.click()</h3>
<ul>
<li>
<p>描述：单击</p>
</li>
<li>
<p>示例代码</p>
</li>
</ul>
<p><code>cy.get('.btn-success').click()</code></p>
<h3 id="typevalue">.type(value)</h3>
<ul>
<li>
<p>描述：输入内容</p>
</li>
<li>
<p>示例代码
<code> </code>cy.get(‘input[name=“username”]’).type(&lsquo;<a href="mailto:dengnao.123@163.com">dengnao.123@163.com</a>&rsquo;)``</p>
</li>
</ul>
<h3 id="clear">.clear()</h3>
<ul>
<li>
<p>描述：清空输入内容</p>
</li>
<li>
<p>示例代码</p>
</li>
</ul>
<p><code>cy.get(‘[type=“text”]’).clear()</code></p>
<h3 id="submit">.submit()</h3>
<ul>
<li>
<p>描述：提交表单</p>
</li>
<li>
<p>示例代码</p>
</li>
</ul>
<p><code>cy.get(‘.ant-input’).submit()</code></p>
<h3 id="dbclickrightclick">.dbclick()/.rightclick()</h3>
<ul>
<li>
<p>描述：鼠标双击操作/鼠标右击操作</p>
</li>
<li>
<p>示例代码</p>
</li>
</ul>
<p><code>cy.get('.menu').rightclick() // 鼠标右击 .menu 菜单元素</code></p>
<h3 id="select">.select()</h3>
<ul>
<li>
<p>描述：针对<!-- raw HTML omitted -->元素选择一个选项</p>
</li>
<li>
<p>示例代码</p>
</li>
</ul>
<p><code>cy.get('color').select('red') // 颜色选项中选择红色</code></p>
<h3 id="checkuncheck">.check()/.uncheck()</h3>
<ul>
<li>
<p>描述：单选或多选进行勾选/取消选中 (反选)</p>
</li>
<li>
<p>示例代码</p>
</li>
</ul>
<p><code>cy.get('[type=&quot;checkbox&quot;]').check() // 对 checkbox 进行选中操作 cy.get('[type=&quot;checkbox&quot;]').uncheck() // 对 checkbox 进行取消选中操作</code></p>
<h3 id="focusblur">.focus()/.blur()</h3>
<ul>
<li>
<p>描述：对选项进行聚焦/失焦操作</p>
</li>
<li>
<p>示例代码</p>
</li>
</ul>
<p><code>cy.get(‘input[name=“username”]’).focus() //对于用户名输入框进行聚焦操作</code></p>
<h2 id="断言">断言</h2>
<h3 id="bdd-断言">BDD 断言</h3>
<h4 id="断言类型">断言类型</h4>
<h5 id="should">.should()：</h5>
<ul>
<li>
<p>描述：创建断言，断言会自动重试，直到它们通过或超时。</p>
</li>
<li>
<p>示例代码</p>
</li>
</ul>
<p><code>cy.get(‘.ant-checkbox).should(‘be.checked’)</code></p>
<h5 id="expect">.expect()：</h5>
<ul>
<li>
<p>描述：预期结果</p>
</li>
<li>
<p>示例代码</p>
</li>
</ul>
<p><code>expect(name).to.not.equal(‘dengnao.123@163.com’)</code></p>
<h4 id="常用断言">常用断言</h4>
<blockquote>
<p>可参考官网文档:https://docs.cypress.io/guides/references/assertions#BDD-Assertions</p>
</blockquote>
<p>
  <img src="https://raw.githubusercontent.com/waitnoww/hexoblogimg/master/img/20210601161229.png" alt="">

</p>
<h3 id="tdd-断言">TDD 断言</h3>
<h4 id="断言类型-1">断言类型</h4>
<h5 id="assert">.assert()：</h5>
<ul>
<li>
<p>描述：断言</p>
</li>
<li>
<p>示例代码</p>
</li>
</ul>
<p><code>assert.equal(3,3,’vals equal’)</code></p>
<h4 id="常用断言-1">常用断言</h4>
<blockquote>
<p>可参考官网文档:https://docs.cypress.io/guides/references/assertions#TDD-Assertions</p>
</blockquote>
<p>
  <img src="https://raw.githubusercontent.com/waitnoww/hexoblogimg/master/img/20210601161926.png" alt="">

</p>
<h3 id="常用断言-2">常用断言</h3>
<h4 id="针对长度length的断言">针对长度（length）的断言</h4>
<pre><code>`//重试，直到找到 3 个匹配的&lt;li.selected&gt;
cy.get('li.selected').should('have.length',3)`
</code></pre>
<h4 id="针对类class的断言">针对类（Class）的断言</h4>
<pre><code>`//重试，直到 input 元素没有类被 disabled 为止（或者超时为止）
cy.get('from').fijd('input').should('not.have.class','disabled')`
</code></pre>
<h4 id="针对值value断言">针对值（Value）断言</h4>
<pre><code>`//重试，直到 textarea 的值为‘iTesting’
cy.get('textarea').should('have.value','iTesting')`
</code></pre>
<h4 id="针对文本内容text-content的断言">针对文本内容（Text Content）的断言</h4>
<p><code> //重试，直到这个 span 不包含“click me”字样 cy.get('a').parent('span.help').should('not.contain','click me') //重试，直到这个 span 包含“click me”字样 cy.get('a').parent('span.help').should('contain','click me')</code></p>
<h4 id="针对元素可见与否visibility的断言">针对元素可见与否（Visibility）的断言</h4>
<p><code>//重试，直到这个 button 是可为止 cy.get('button').should('be.visible')</code></p>
<h4 id="针对元素存在与否existence的断言">针对元素存在与否（Existence）的断言</h4>
<p><code>//重试，直到 id 为 loading 的 spinner 不在存在 cy.get('#loading').should('not.exist')</code></p>
<h4 id="针对元素状态的status的断言">针对元素状态的（status）的断言</h4>
<pre><code>`//重试，直到这个 radio button 是选中状态
cy.get('：radio').should('be.checked')`
</code></pre>
<h4 id="针对-css-的断言">针对 CSS 的断言</h4>
<pre><code>`//重试，直到 completed 这个类有匹配的 css 为止
cy.get('.completed').should('have.css','text-decoration','line-through')`
</code></pre>
<h2 id="运行出错问题记录">运行出错问题记录</h2>
<h4 id="运行-npm-run-cypressopen-报错提示-no-version-of-cypress-is-installed">运行 npm run cypress:open 报错，提示 No version of Cypress is installed</h4>
<h5 id="报错截图如下">报错截图如下：</h5>
<p>
  <img src="https://raw.githubusercontent.com/waitnoww/hexoblogimg/master/img/20210601150230.png" alt="">

</p>
<h5 id="修复方式">修复方式</h5>
<p><code>//项目根目录下运行如下命令即可解决 ./node_modules/.bin/cypress install</code></p>
<h5 id="原因">原因</h5>
<p>电脑使用过清理软件，安装的 cypress 缓存信息被删除了，重新安装就好</p>
<h4 id="运行-npm-run-cypressopen-报错提示-cypress-verification-timed-out">运行 npm run cypress:open 报错，提示 Cypress verification timed out</h4>
<h5 id="报错截图如下-1">报错截图如下：</h5>
<p>
  <img src="https://raw.githubusercontent.com/waitnoww/hexoblogimg/master/img/20210601151647.png" alt="">

</p>
<h5 id="修复方式-1">修复方式</h5>
<p>重新运行 npm run cypress:open 尝试即可</p>
<h5 id="原因-1">原因</h5>
<p>电脑 cypress 验证超时了，一般重新操作即可恢复</p>

			</div>

			<div class="tags">
				
					
						<ul class="flat">
							
							<li class="tag-li"><a href="/tags/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95">自动化测试</a></li>
							
							<li class="tag-li"><a href="/tags/cypress">cypress</a></li>
							
						</ul>
					
				
			</div>

			
			<div class="back">
				<a href="https://github.com/waitnoww/blob/master/content/posts/cypress-demo3.md" title="github"><i data-feather="github"></i> Edit this on GitHub</a>
			</div>
			
			
			<div class="back">
				<a href="https://naod.com.cn/"><span aria-hidden="true">← Back</span></a>
			</div>
			

			<div class="back">
				
					
					Next time, we'll talk about <i>"10 Reasons why gcc SHOULD be re-written in JavaScript - You won&#39;t believe #8!"</i>
					
				
			</div></div>
		
	</div>
	
	<div class="footer wrapper">
	<nav class="nav">
		<div>2022  © Copyright 2022 www.naod.com.cn </div>
		
	</nav>
</div><script>feather.replace()</script>
</body>
</html>
